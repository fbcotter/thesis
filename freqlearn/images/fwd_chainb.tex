%
\begin{tikzpicture}
  \matrix (m) [matrix of math nodes, row sep=1cm, column sep=2cm, every cell/.style={nodes={font=\large}}]
  { x^{(1)}\vphantom{y^1} & y^{(2)}  & x^{(2)} \vphantom{y^1} & y^{(3)}  & x^{(3)} \vphantom{y^1}\\
    u^{(1)} & v^{(2)} & u^{(2)} & v^{(3)} & u^{(3)} \\ };
    {\footnotesize
    { \tikzset{shorten <= 8pt, shorten >=8pt}
      \draw[->, dashed] (m-1-1) -- node[midway, above] {$H^{(1)}$} (m-1-2);
      \draw[->, line width=1pt] (m-2-1) -- node[midway, above] {$G^{(1)}$} (m-2-2);
      \draw[->, line width=1pt] (m-1-2) -- node[midway, above] {$\sigma$} (m-1-3);
      \draw[->, line width=1pt] (m-1-3) -- node[midway, above] {$H^{(2)}$} (m-1-4);
      \draw[->, line width=1pt] (m-1-4) -- node[midway, above] {$\sigma$} (m-1-5); 
     }

     { \tikzset{shorten <= 3pt, shorten >=3pt}
    \draw[->, line width=1pt] (m-1-1.240) -- node[midway, left] {$\mathcal{W}\vphantom{\mathcal{W}^1}$} +(0, -1cm);
    % \draw[<-, dashed] (m-1-1.270) -- node[midway, right] {$\mathcal{W}^{-1}$} +(0, -1cm);
    % \draw[->, dashed] (m-1-2.240) -- node[midway, left] {$\mathcal{W}\vphantom{\mathcal{W}^1}$} +(0, -1cm);
    \draw[<-, line width=1pt] (m-1-2.240) -- node[midway, right] {$\mathcal{W}^{-1}$} +(0, -1cm);
    \draw[->, dashed] (m-1-3.240) -- node[midway, left] {$\mathcal{W}\vphantom{\mathcal{W}^1}$} +(0, -1cm);
    \draw[<-, dashed] (m-1-3.270) -- node[midway, right] {$\mathcal{W}^{-1}$} +(0, -1cm);
    \draw[->, dashed] (m-1-4.240) -- node[midway, left] {$\mathcal{W}\vphantom{\mathcal{W}^1}$} +(0, -1cm);
    \draw[<-, dashed] (m-1-4.270) -- node[midway, right] {$\mathcal{W}^{-1}$} +(0, -1cm);
    \draw[->, dashed] (m-1-5.240) -- node[midway, left] {$\mathcal{W}\vphantom{\mathcal{W}^1}$} +(0, -1cm);
    \draw[<-, dashed] (m-1-5.270) -- node[midway, right] {$\mathcal{W}^{-1}$} +(0, -1cm);
    }
    }
  % \graph [math nodes] {
    % x^{(1)} -> y^{(2)} -> x^{(2)} -> y^{(3)} -> x^{(3)};
    % u^{(1)} -> v^{(2)} -> u^{(2)} -> v^{(3)} -> u^{(3)}  ;
   % }
   % \draw
    
\end{tikzpicture}
